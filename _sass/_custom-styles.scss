// 首先，導入 Minima 主題的所有預設樣式
@use "minima";

// -------------------------------------------
// 你的自定義字體定義（從你原來的 style.css 複製過來）
// -------------------------------------------
@font-face {
  font-family: 'Minh Ngyuen'; /* 自定义字体名称 */
  src: url('/fonts/Minh-Nguyen-Regular.woff') format('woff'),
       url('/fonts/Minh Nguyen Regular.woff2') format('woff2');
  font-weight: normal;
  font-style: normal;
}

@font-face {
    font-family: 'HanaMinB'; /* 您在 CSS 中引用的字體名稱 */
    src: url('/fonts/HanaMinB.woff') format('woff');
    font-weight: normal;
    font-style: normal;
    font-display: swap;
}

// -------------------------------------------
// 深淺色主題設定 - CSS 變數定義和應用 (覆蓋 Minima 顏色)
// -------------------------------------------

// 預設淺色主題變數
:root {
  --text-color: #111;              // 主文字顏色
  --background-color: #fff;         // 主背景顏色
  --link-color: #007bff;            // 連結顏色
  --header-bg: #f8f8f8;             // 頭部背景顏色
  --header-text-color: #111;        // 頭部文字顏色
  --footer-bg: #f8f8f8;             // 腳部背景顏色
  --footer-text-color: #111;        // 腳部文字顏色
  --border-color: #eee;             // 邊框顏色
  --code-bg: #f0f0f0;               // 程式碼塊背景
  --code-text: #333;                // 程式碼文字
  --post-meta-color: #828282;       // 文章元數據顏色
  --blockquote-border: #ccc;        // 引用塊左邊框顏色
  --minima-brand-color: #111;       // Minima 標題/品牌顏色
  --minima-grey-color: #828282;     // Minima 灰色文字顏色
  --minima-light-grey-color: #e8e8e8; // Minima 淺灰色邊框/背景顏色
}

// 深色主題變數 (當用戶系統偏好為 dark 時)
@media (prefers-color-scheme: dark) {
  :root {
    --text-color: #eee;
    --background-color: #222;
    --link-color: #88f;
    --header-bg: #333;
    --header-text-color: #eee;
    --footer-bg: #333;
    --footer-text-color: #eee;
    --border-color: #444;
    --code-bg: #333;
    --code-text: #eee;
    --post-meta-color: #aaa;
    --blockquote-border: #666;
    --minima-brand-color: #eee;
    --minima-grey-color: #aaa;
    --minima-light-grey-color: #444;
  }
}

// 如果你想添加手動切換功能 (JavaScript)，這個部分會讓手動選擇優先
html[data-theme='dark'] {
  --text-color: #eee;
  --background-color: #222;
  --link-color: #88f;
  --header-bg: #333;
  --header-text-color: #eee;
  --footer-bg: #333;
  --footer-text-color: #eee;
  --border-color: #444;
  --code-bg: #333;
  --code-text: #eee;
  --post-meta-color: #aaa;
  --blockquote-border: #666;
  --minima-brand-color: #eee;
  --minima-grey-color: #aaa;
  --minima-light-grey-color: #444;
}
html[data-theme='light'] {
  --text-color: #111;
  --background-color: #fff;
  --link-color: #007bff;
  --header-bg: #f8f8f8;
  --header-text-color: #111;
  --footer-bg: #f8f8f8;
  --footer-text-color: #111;
  --border-color: #eee;
  --code-bg: #f0f0f0;
  --code-text: #333;
  --post-meta-color: #828282;
  --blockquote-border: #ccc;
  --minima-brand-color: #111;
  --minima-grey-color: #828282;
  --minima-light-grey-color: #e8e8e8;
}

// 將 CSS 變數應用到 Minima 主題的元素上 (覆蓋 Minima 原始樣式)
body {
  font-family: 'Minh Ngyuen', serif !important; // 確保你的自定義字體應用
  color: var(--text-color);
  background-color: var(--background-color);
}
.site-header {
  background-color: var(--header-bg);
  border-bottom-color: var(--border-color);
  color: var(--header-text-color);
}
.site-title {
  color: var(--minima-brand-color);
}
.site-nav .page-link {
  color: var(--header-text-color);
}
.site-nav .page-link:hover,
.site-nav .page-link:focus {
  color: var(--link-color);
}
.wrapper {
  background-color: var(--background-color);
  border-color: var(--border-color);
}
.site-footer {
  background-color: var(--footer-bg);
  border-top-color: var(--border-color);
  color: var(--footer-text-color);
}
a {
  color: var(--link-color);
}
h1, h2, h3, h4, h5, h6 {
  color: var(--text-color);
}
.post-meta {
  color: var(--post-meta-color);
}
blockquote {
  border-left-color: var(--blockquote-border);
  color: var(--post-meta-color);
}
code, pre {
  background-color: var(--code-bg);
  color: var(--code-text);
  border-color: var(--border-color);
}
pre > code {
  background-color: transparent;
  color: var(--code-text);
}


// -------------------------------------------
// 你的其他自定義 CSS 內容 (放在最後，方便覆蓋)
// -------------------------------------------
.special-font {
    font-family: "HanaMinB", serif !important;
}
.site-title { /* 注意：這裡的 .site-title 選擇器會覆蓋上面的 color 變數 */
    display: flex;
    align-items: center;
    gap: 10px;
    // 如果你需要它也適應主題顏色，這裡應該使用 var(--minima-brand-color);
}
.site-title::before {
    content: '';
    display: inline-block;
    background: url('/logo.png') no-repeat center;
    background-size: contain;
    width: 40px; /* Logo 宽度 */
    height: 40px; /* Logo 高度 */
}
.hashtag-box {
  display: inline-block;
  margin: 5px;
  padding: 5px;
  background-color: var(--code-bg); // 使用主題變數
  border-radius: 5px;
  color: var(--code-text); // 使用主題變數
}
.image-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  grid-gap: 10px;
}
.image-grid img {
  width: 100%;
  height: auto;
}
@media (max-width: 600px) {
  .image-grid {
    grid-template-columns: 1fr;
  }
}
